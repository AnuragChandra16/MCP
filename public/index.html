<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Creative - MCP Server Tester</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <!-- Bootstrap Icons-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
    <!-- Google fonts-->
    <link href="https://fonts.googleapis.com/css?family=Merriweather+Sans:400,700" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic" rel="stylesheet" type="text/css" />
    <!-- SimpleLightbox plugin CSS-->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/SimpleLightbox/2.1.0/simpleLightbox.min.css" rel="stylesheet" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="styles.css" rel="stylesheet" />
    <!-- Custom styling for response colors -->
    <style>
        .key {
            color: skyblue;
        }
        .value {
            color: #d19a66;
        }
        #responseBox {
            background-color: #1e1e1e;
            color: white;
            text-align: left;
            padding: 20px;
            border-radius: 10px;
            width: 95%;
            margin: 20px auto;
            white-space: pre-wrap;
            overflow-x: auto;
            font-family: monospace;
            font-size: 19px;
            line-height: 1.6;
        }
    </style>
</head>
<body id="page-top" style="color: rgb(213, 73, 13);">
    <!-- Navigation-->
   <!-- Navigation-->
<nav class="navbar navbar-expand-lg navbar-light fixed-top py-5" id="mainNav" style="color: rgb(213, 73, 13);">
  <div class="container px-4 px-lg-5" style="color: rgb(213, 73, 13);">
     
      <button class="navbar-toggler navbar-toggler-right" type="button" data-bs-toggle="collapse"
          data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false"
          aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ms-auto my-0 my-lg-0">
              <li class="nav-item"><a class="nav-link fs-4" href="#about" style="color: rgb(213, 73, 13);">About</a></li>
              <li class="nav-item"><a class="nav-link fs-4" href="#services" style="color:  rgb(213, 73, 13);">Services</a></li>
              <li class="nav-item"><a class="nav-link fs-4" href="#mcp-tester" style="color:  rgb(213, 73, 13);">MCP Tester</a></li>
              <li class="nav-item"><a class="nav-link fs-4" href="#portfolio" style="color:  rgb(213, 73, 13);">Portfolio</a></li>
              <li class="nav-item"><a class="nav-link fs-4" href="#contact" style="color:  rgb(213, 73, 13);">Contact</a></li>
          </ul>
      </div>
  </div>
</nav>

    <!-- Masthead-->
    <header class="masthead"  style="color: rgb(213, 73, 13);">
        <div class="container px-4 px-lg-5 h-100" style="color: rgb(213, 73, 13);">
            <div class="row gx-4 gx-lg-5 h-100 align-items-center justify-content-center text-center">
                <div class="col-lg-8 align-self-end">
                    <h1 class="text-white font-weight-bold">Test Your MCP Server with Style</h1>
                    <hr class="divider" />
                </div>
                <div class="col-lg-8 align-self-baseline">
                    <p class="text-white-75 mb-5">This page blends Bootstrap elegance with the utility of an MCP testing interface.</p>
                    <a class="btn btn-primary btn-xl" href="#mcp-tester">Try it now</a>
                </div>
            </div>
        </div>
    </header>

    <!-- About Section (Unchanged) -->
    <section class="page-section bg-primary" id="about">
        <div class="container px-4 px-lg-5">
            <div class="row gx-4 gx-lg-5 justify-content-center">
                <div class="col-lg-8 text-center">
                    <h2 class="text-white mt-0">We've got what you need!</h2>
                    <hr class="divider divider-light" />
                    <p class="text-white-75 mb-4">Start Bootstrap helps you build better websites, now with tools to test your backend too!</p>
                    <a class="btn btn-light btn-xl" href="#mcp-tester">Get Started!</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Services Section (Unchanged) -->
    <section class="page-section" id="services">
        <div class="container px-4 px-lg-5">
            <h2 class="text-center mt-0">At Your Service</h2>
            <hr class="divider" />
            <div class="row gx-4 gx-lg-5">
                <div class="col-lg-3 col-md-6 text-center">
                    <div class="mt-5">
                        <div class="mb-2"><i class="bi-gem fs-1 text-primary"></i></div>
                        <h3 class="h4 mb-2">Sturdy Themes</h3>
                        <p class="text-muted mb-0">Our theme is to test and ensure the proper result of MCP server before implementing.</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 text-center">
                    <div class="mt-5">
                        <div class="mb-2"><i class="bi-laptop fs-1 text-primary"></i></div>
                        <h3 class="h4 mb-2">Up to Date</h3>
                        <p class="text-muted mb-0">All dependencies are kept current to keep things fresh.</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 text-center">
                    <div class="mt-5">
                        <div class="mb-2"><i class="bi-globe fs-1 text-primary"></i></div>
                        <h3 class="h4 mb-2">Ready to Publish</h3>
                        <p class="text-muted mb-0">Use the design as-is or modify as needed!</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 text-center">
                    <div class="mt-5">
                        <div class="mb-2"><i class="bi-heart fs-1 text-primary"></i></div>
                        <h3 class="h4 mb-2">Made with Love</h3>
                        <p class="text-muted mb-0">Built to help developers build faster!</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- MCP Server Tester Section (Simplified) -->
    <section class="page-section bg-light" id="mcp-tester" style="background-color: #1546cc">
      <div class="container px-4 px-lg-5">
          <div class="text-center">
              <h2 class="mt-0">MCP Server Tester</h2>
              <hr class="divider" />
              <p class="text-muted mb-5">Enter the URL of your MCP Server below to test connectivity and view the response.</p>
          </div>
          <div class="row justify-content-center">
              <div class="col-lg-8">
                  <div class="form-floating mb-3">
                      <input type="text" class="form-control" id="serverUrl" placeholder="Enter MCP Server URL
                      ">
                      <!-- <label for="serverUrl">Enter MCP server</label> -->
                  </div>
                  <div class="d-grid mb-4">
                      <button class="btn btn-primary btn-xl" id="testButton">Test Server</button>
                  </div>
                  <h4 class="text-center">Response:</h4>
                  <div id="responseBox" class="bg-dark text-white p-3" style="height: 300px; overflow: auto;"></div>
              </div>
          </div>
      </div>
  </section>
  

    <!-- Footer-->
    <footer class="bg-light py-5">
        <div class="container px-4 px-lg-5">
            <div class="small text-center text-muted">Copyright &copy; 2023 - Company Name</div>
        </div>
    </footer>

    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- SimpleLightbox plugin JS-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/SimpleLightbox/2.1.0/simpleLightbox.min.js"></script>
    <!-- Core theme JS-->
    <script src="script.js"></script>

    <!-- MCP Tester JS (Simplified) -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const testButton = document.getElementById('testButton');
            testButton.addEventListener('click', testServer);
        });
        
      
   


        // Add this to your JavaScript

        // Function to format JSON with colored keys and values
        function formatJsonOutput(jsonObj, indentLevel = 0) {
            if (!jsonObj) return '';
            
            const indent = '  '.repeat(indentLevel);
            let output = '';
            
            if (Array.isArray(jsonObj)) {
                output += '[\n';
                jsonObj.forEach((item, index) => {
                    output += indent + '  ';
                    output += formatJsonOutput(item, indentLevel + 1);
                    if (index < jsonObj.length - 1) output += ',';
                    output += '\n';
                });
                output += indent + ']';
            } else if (typeof jsonObj === 'object') {
                output += '{\n';
                const keys = Object.keys(jsonObj);
                keys.forEach((key, index) => {
                    output += indent + '  ' + `<span class="key">"${key}"</span>: `;
                    
                    if (typeof jsonObj[key] === 'object' && jsonObj[key] !== null) {
                        output += formatJsonOutput(jsonObj[key], indentLevel + 1);
                    } else if (typeof jsonObj[key] === 'string') {
                        output += `<span class="value">"${jsonObj[key]}"</span>`;
                    } else {
                        output += `<span class="value">${jsonObj[key]}</span>`;
                    }
                    
                    if (index < keys.length - 1) output += ',';
                    output += '\n';
                });
                output += indent + '}';
            } else if (typeof jsonObj === 'string') {
                output += `<span class="value">"${jsonObj}"</span>`;
            } else {
                output += `<span class="value">${jsonObj}</span>`;
            }
            
            return output;
        }
        
        // Format plain text with colored labels and values
        function formatTextOutput(text) {
            // If text contains colons, color before/after accordingly
            return text.replace(/([^:]+):(.*?)(?=\n|$)/g, '<span class="key">$1</span>:<span class="value">$2</span>');
        }
        
        // Function to test HTTP connection
        async function testHttpConnection(url) {
            const responseBox = document.getElementById('responseBox');
            
            try {
                responseBox.innerHTML = '<span class="key">Status</span>: <span class="value">Connecting...</span>';
                
                const response = await fetch('https://mcp-emi0.onrender.com/test-server', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ url, type: 'http' }) // 'type' is important for backend
});
                const contentType = response.headers.get('content-type');
                
                if (contentType && contentType.includes('application/json')) {
                    const jsonData = await response.json();
                    responseBox.innerHTML = `<span class="key">Status</span>: <span class="value">${response.status} ${response.statusText}</span>\n\n`;
                    responseBox.innerHTML += formatJsonOutput(jsonData);
                } else {
                    const text = await response.text();
                    responseBox.innerHTML = `<span class="key">Status</span>: <span class="value">${response.status} ${response.statusText}</span>\n\n`;
                    responseBox.innerHTML += formatTextOutput(text);
                }
            } catch (error) {
                responseBox.innerHTML = `<span class="key">Error</span>: <span class="value">${error.message}</span>`;
            }
        }
        
        // Main function to test server
        async function testServer() {
            const url = document.getElementById('serverUrl').value;
            const responseBox = document.getElementById('responseBox');
            
            if (!url) {
                responseBox.innerHTML = '<span class="key">Error</span>: <span class="value">Please enter a server URL</span>';
                return;
            }
            
            if (url.startsWith('ws://') || url.startsWith('wss://')) {
                responseBox.innerHTML = '<span class="key">Error</span>: <span class="value">WebSocket connections are not supported in this simplified version</span>';
                return;
            }
            
            await testHttpConnection(url);
        }
    </script>
</body>
</html>